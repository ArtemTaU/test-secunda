ORGS_TAG = "Organizations"
ADDRESSES_TAG = "Addresses"

GET_ALL_ORGS = {
    "summary": "Получить список всех организаций",
    "description": (
        "Эндпоинт для получения списка всех организаций.\n\n"
        "Логика:\n"
        "1) Всегда возвращает 200 и список организаций (список может быть пустым)\n"
        "2) При ошибке базы данных вернёт 500\n\n"
        "Возвращаемые поля для каждой организации:\n"
        "- `id` — идентификатор организации\n"
        "- `name` — название организации\n"
        "- `address` — адрес организации\n"
        "- `phones` — список телефонов\n"
        "- `activities` — список названий деятельностей\n"
        "Пояснение: тут нужен offset и limit, если организаций много\n\n"
    ),
    "tags": [ORGS_TAG],
    "responses": {
        200: {
            "description": "Список организаций успешно получен",
            "content": {
                "application/json": {
                    "example": {
                        "organizations": [
                            {
                                "id": 1,
                                "name": "org_1",
                                "address": {
                                    "id": 10,
                                    "country": "Россия",
                                    "city": "Москва",
                                    "street": "Тверская",
                                    "house": 1,
                                    "building": None,
                                },
                                "phones": ["+7-999-111-22-33", "+7-999-444-55-66"],
                                "activities": ["Аптека", "Кофейня"],
                            }
                        ]
                    }
                }
            },
        },
        500: {
            "description": "Ошибка базы данных",
            "content": {"application/json": {"example": {"detail": "Ошибка базы данных."}}},
        },
    },
}

GET_ORG_BY_ID = {
    "summary": "Вывод информации об организации по её идентификатору",
    "description": (
        "Эндпоинт для получения информации об организации по её идентификатору.\n\n"
        "Параметры (path):\n"
        "- `org_id` — идентификатор организации\n\n"
        "Логика:\n"
        "1) Если организация найдена — вернёт 200 и объект организации\n"
        "2) Если организация не найдена — вернёт 404\n"
        "3) При ошибке базы данных — вернёт 500\n"
    ),
    "tags": [ORGS_TAG],
    "responses": {
        200: {
            "description": "Организация успешно получена",
            "content": {
                "application/json": {
                    "example": {
                        "organization": {
                            "id": 1,
                            "name": "org_1",
                            "address": {
                                "id": 10,
                                "country": "Россия",
                                "city": "Москва",
                                "street": "Тверская",
                                "house": 1,
                                "building": None,
                            },
                            "phones": ["+7-999-111-22-33"],
                            "activities": ["Аптека"],
                        }
                    }
                }
            },
        },
        404: {
            "description": "Организация не найдена",
            "content": {"application/json": {"example": {"detail": "Организация не найдена."}}},
        },
        500: {
            "description": "Ошибка базы данных",
            "content": {"application/json": {"example": {"detail": "Ошибка базы данных."}}},
        },
    },
}

CHECK_ORGS_IN_BUILDING = {
    "summary": "Получить список организаций в здании по адресу",
    "description": (
        "Эндпоинт для получения списка всех организаций, расположенных в указанном здании.\n"
        "Поиск выполняется по частям адреса (город/улица/дом и опционально корпус/строение/блок).\n\n"
        "Параметры (query):\n"
        "- `city` — город/населённый пункт\n"
        "- `street` — улица\n"
        "- `house` — номер дома\n"
        "- `building` — корпус/строение (опционально)\n"
        "Логика:\n"
        "1) Если здание найдено — вернёт 200 и список организаций (список может быть пустым)\n"
        "2) Если здание не найдено — вернёт 404\n\n"
    ),
    "tags": [ORGS_TAG],
    "responses": {
        200: {
            "description": "Список организаций успешно получен",
            "content": {
                "application/json": {
                    "example": {"organizations": ["org_1", "org_2", "org_3"]}
                }
            },
        },
        404: {
            "description": "Здание не найдено",
            "content": {"application/json": {"example": {"detail": "Здание не найдено."}}},
        },
    },
}

GET_ORGS_BY_ACTIVITY_TREE = {
    "summary": "Искать организации по виду деятельности (с учётом вложенных видов)",
    "description": (
        "Эндпоинт для поиска организаций по названию вида деятельности с учётом иерархии.\n"
        "Если указать родительский вид деятельности (например, «Еда»), то в поиск также попадут все организации, "
        "у которых вид деятельности является самим «Еда» или любым дочерним/вложенным видом (например, "
        "«Мясная продукция», «Молочная продукция»).\n\n"
        "Параметры (query):\n"
        "- `activity` — название вида деятельности (точное, строка)\n\n"
        "Логика:\n"
        "1) Находим активность по имени\n"
        "2) Рекурсивно получаем id всех дочерних активностей (включая выбранную)\n"
        "3) Возвращаем организации, у которых есть хотя бы одна активность из полученного списка\n\n"
        "Коды ответов:\n"
        "- 200 — список организаций (может быть пустым)\n"
        "- 404 — указанный вид деятельности не найден\n"
        "- 500 — ошибка базы данных\n"
    ),
    "tags": [ORGS_TAG],
    "responses": {
        200: {
            "description": "Список организаций успешно получен",
            "content": {
                "application/json": {
                    "example": {
                        "organizations": [
                            {
                                "id": 1,
                                "name": "org_1",
                                "address": {
                                    "id": 10,
                                    "country": "Россия",
                                    "city": "Москва",
                                    "street": "Тверская",
                                    "house": 1,
                                    "building": None,
                                    "lat": 55.7558,
                                    "lon": 37.6173,
                                },
                                "phones": ["+7-999-111-22-33"],
                                "activities": ["Еда", "Мясная продукция"],
                            }
                        ]
                    }
                }
            },
        },
        404: {
            "description": "Вид деятельности не найден",
            "content": {"application/json": {"example": {"detail": "Вид деятельности не найден."}}},
        },
        500: {
            "description": "Ошибка базы данных",
            "content": {"application/json": {"example": {"detail": "Ошибка базы данных."}}},
        },
    },
}

GET_ALL_ADDRESSES = {
    "summary": "Получить список всех адресов",
    "description": (
        "Эндпоинт для получения списка всех адресов.\n\n"
        "Логика:\n"
        "1) Всегда возвращает 200 и список адресов (список может быть пустым)\n"
        "2) При ошибке базы данных вернёт 500\n\n"
        "Возвращаемые поля для каждого адреса:\n"
        "- `id` — идентификатор адреса\n"
        "- `country` — страна\n"
        "- `city` — город/населённый пункт\n"
        "- `street` — улица\n"
        "- `house` — номер дома\n"
        "- `building` — корпус/строение (может быть null)\n"
    ),
    "tags": [ADDRESSES_TAG],
    "responses": {
        200: {
            "description": "Список адресов успешно получен",
            "content": {
                "application/json": {
                    "example": {
                        "addresses": [
                            {
                                "id": 10,
                                "country": "Россия",
                                "city": "Москва",
                                "street": "Тверская",
                                "house": 1,
                                "building": None,
                            }
                        ]
                    }
                }
            },
        },
        500: {
            "description": "Ошибка базы данных",
            "content": {"application/json": {"example": {"detail": "Ошибка базы данных."}}},
        },
    },
}

GET_ADDRESSES_AND_COMPANIES_NEAR = {
    "summary": "Получить адреса и организации в радиусе от точки на карте",
    "description": (
        "Эндпоинт для получения списка адресов, находящихся в заданном радиусе относительно точки (lat/lon), "
        "и списка организаций, расположенных по найденным адресам.\n\n"
        "Параметры (query):\n"
        "- `lat` — широта точки\n"
        "- `lon` — долгота точки\n"
        "- `radius_m` — радиус поиска в метрах (по умолчанию 1000)\n"
        "- `limit` — ограничение количества адресов (опционально)\n"
        "- `offset` — смещение (опционально)\n\n"
        "Логика:\n"
        "1) Находим адреса с заполненными координатами, расстояние до которых <= `radius_m`\n"
        "2) Собираем `address_id` найденных адресов\n"
        "3) Возвращаем все организации, у которых `address_id` входит в найденный список\n"
        "4) Если ничего не найдено — вернёт 200 и пустые списки\n"
        "5) При ошибке базы данных — вернёт 500\n"
    ),
    "tags": [ADDRESSES_TAG],
    "responses": {
        200: {
            "description": "Списки адресов и организаций успешно получены",
            "content": {
                "application/json": {
                    "example": {
                        "addresses": [
                            {
                                "id": 10,
                                "country": "Россия",
                                "city": "Москва",
                                "street": "Тверская",
                                "house": 1,
                                "building": None,
                                "lat": 55.7558,
                                "lon": 37.6173,
                            }
                        ],
                        "organizations": [
                            {
                                "id": 1,
                                "name": "org_1",
                                "address": {
                                    "id": 10,
                                    "country": "Россия",
                                    "city": "Москва",
                                    "street": "Тверская",
                                    "house": 1,
                                    "building": None,
                                    "lat": 55.7558,
                                    "lon": 37.6173,
                                },
                                "phones": ["+7-999-111-22-33"],
                                "activities": ["Еда", "Мясная продукция"],
                            }
                        ],
                    }
                }
            },
        },
        500: {
            "description": "Ошибка базы данных",
            "content": {"application/json": {"example": {"detail": "Ошибка базы данных."}}},
        },
    },
}
